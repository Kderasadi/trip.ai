import { GoogleGenerativeAI } from "@google/generative-ai";


const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
  systemInstruction: "just give the prompt result as a JSON file ",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan For Location : London, UK, for 4 Days for 2 People with Standard Budget, give me Hotels options list with Hotel Name, Hotel address, Price, hotel image url, geo coordinates, rating, description and suggest itinery with place name, place details, place image url, geo coordinates, ticket pricing, time to travel each of the location for 4 days with each day plan with best time to visit in JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "travelPlan": {\n    "location": "London, UK",\n    "duration": "4 Days",\n    "travelers": 2,\n    "budget": "Standard",\n    "hotels": [\n      {\n        "hotelName": "The Resident Covent Garden",\n        "hotelAddress": "14-16 Bedford St, London WC2R 0HE, United Kingdom",\n        "price": 200,\n        "hotelImageUrl": "https://example.com/resident_covent_garden.jpg",\n        "geoCoordinates": {\n          "latitude": 51.5119,\n          "longitude": -0.1240\n        },\n        "rating": 4.6,\n        "description": "A stylish hotel in the heart of Covent Garden, offering comfortable rooms and a great location."\n      },\n      {\n        "hotelName": "The Nadler Soho",\n        "hotelAddress": "10 Carlisle St, London W1D 3QP, United Kingdom",\n        "price": 180,\n        "hotelImageUrl": "https://example.com/nadler_soho.jpg",\n        "geoCoordinates": {\n          "latitude": 51.5140,\n          "longitude": -0.1315\n        },\n        "rating": 4.4,\n         "description": "A modern hotel in the vibrant Soho area, known for its sleek design and excellent service."\n      },\n      {\n        "hotelName": "Z Hotel Piccadilly",\n        "hotelAddress": "17-21 Coventry St, London W1D 7EH, United Kingdom",\n        "price": 160,\n          "hotelImageUrl": "https://example.com/z_hotel_piccadilly.jpg",\n         "geoCoordinates": {\n          "latitude": 51.5100,\n          "longitude": -0.1310\n         },\n        "rating": 4.3,\n        "description": "Compact and stylish rooms in a prime location near Piccadilly Circus, ideal for exploring central London."\n      }\n\n    ],\n    "itinerary": {\n      "day1": {\n        "theme": "Iconic London",\n        "bestTimeToVisit": "Morning (9:00 AM - 12:00 PM)",\n        "places": [\n          {\n            "placeName": "Buckingham Palace",\n            "placeDetails": "The official residence of the Queen. Watch the Changing of the Guard ceremony (check schedule beforehand).",\n            "placeImageUrl": "https://example.com/buckingham_palace.jpg",\n            "geoCoordinates": {\n              "latitude": 51.5014,\n              "longitude": -0.1419\n            },\n            "ticketPricing": "Free to view exterior, Tickets for State Room tours vary",\n            "travelTime": "Hotel to Buckingham Palace - 30 mins by public transportation"\n           },\n          {\n            "placeName": "Houses of Parliament & Big Ben",\n            "placeDetails": "The seat of the UK Parliament. Admire the iconic Elizabeth Tower (Big Ben).",\n            "placeImageUrl": "https://example.com/parliament_bigben.jpg",\n           "geoCoordinates": {\n              "latitude": 51.5008,\n              "longitude": -0.1246\n            },\n            "ticketPricing": "Free to view exterior, Tours available at a cost",\n            "travelTime": "Buckingham Palace to Houses of Parliament - 15 mins walking"\n          },\n          {\n            "placeName": "London Eye",\n            "placeDetails": "Giant Ferris wheel offering panoramic views of London.",\n             "placeImageUrl": "https://example.com/london_eye.jpg",\n            "geoCoordinates": {\n              "latitude": 51.5033,\n              "longitude": -0.1195\n            },\n            "ticketPricing": "£32-£45",\n            "travelTime": "Houses of Parliament to London Eye - 5 mins walking"\n\n          }\n        ]\n      },\n       "day2": {\n        "theme": "Museums and Culture",\n        "bestTimeToVisit": "Morning (10:00 AM - 1:00 PM)",\n        "places": [\n          {\n            "placeName": "British Museum",\n            "placeDetails": "Home to a vast collection of world art and artifacts.",\n             "placeImageUrl": "https://example.com/british_museum.jpg",\n            "geoCoordinates": {\n              "latitude": 51.5194,\n              "longitude": -0.1269\n            },\n            "ticketPricing": "Free",\n             "travelTime": "Hotel to British Museum - 20 mins by public transportation"\n          },\n          {\n            "placeName": "National Gallery",\n            "placeDetails": "Art museum housing a collection of European paintings from the 13th to the 19th centuries.",\n             "placeImageUrl": "https://example.com/national_gallery.jpg",\n             "geoCoordinates": {\n              "latitude": 51.5089,\n              "longitude": -0.1283\n            },\n            "ticketPricing": "Free",\n            "travelTime": "British Museum to National Gallery - 20 mins by public transportation"\n\n          },\n          {\n             "placeName": "Covent Garden",\n             "placeDetails": "Lively district with shops, restaurants, and street performers.",\n              "placeImageUrl": "https://example.com/covent_garden.jpg",\n              "geoCoordinates": {\n                "latitude": 51.5127,\n                 "longitude": -0.1235\n              },\n              "ticketPricing": "Free",\n              "travelTime": "National Gallery to Covent Garden - 10 mins walking"\n          }\n        ]\n      },\n      "day3": {\n          "theme": "Parks and Views",\n           "bestTimeToVisit":"Afternoon (2:00 PM - 5:00 PM)",\n          "places": [\n            {\n              "placeName": "Hyde Park",\n              "placeDetails": "One of London\'s largest Royal Parks, perfect for strolling, picnicking, or boating on the Serpentine lake.",\n              "placeImageUrl": "https://example.com/hyde_park.jpg",\n               "geoCoordinates": {\n                  "latitude": 51.5073,\n                  "longitude": -0.1657\n               },\n              "ticketPricing": "Free",\n               "travelTime": "Hotel to Hyde Park - 30 mins by public transportation"\n            },\n            {\n              "placeName":"Kensington Palace and Gardens",\n              "placeDetails": "Royal residence with beautiful gardens, home to Princess Diana\'s memorial. ",\n              "placeImageUrl": "https://example.com/kensington_palace.jpg",\n               "geoCoordinates": {\n                  "latitude": 51.5041,\n                  "longitude": -0.1923\n                },\n              "ticketPricing": "£20-25",\n                "travelTime":"Hyde Park to Kensington Palace and Gardens - 15 mins walking"\n             },\n             {\n              "placeName": "Sky Garden",\n              "placeDetails":"Indoor public garden offering panoramic views of London.",\n              "placeImageUrl":"https://example.com/sky_garden.jpg",\n              "geoCoordinates": {\n                  "latitude": 51.5083,\n                  "longitude": -0.0800\n              },\n              "ticketPricing":"Free (booking required)",\n                "travelTime":"Kensington Palace and Gardens to Sky Garden - 40 mins by public transportation"\n              }\n          ]\n\n      },\n      "day4":{\n          "theme": "Shopping and Departure",\n          "bestTimeToVisit":"Morning (10:00 AM - 1:00 PM)",\n           "places":[\n              {\n              "placeName":"Oxford Street",\n              "placeDetails":"Famous shopping street with numerous retail stores and department stores.",\n              "placeImageUrl":"https://example.com/oxford_street.jpg",\n              "geoCoordinates":{\n                "latitude": 51.5152,\n                  "longitude": -0.1419\n              },\n               "ticketPricing":"Free",\n                "travelTime":"Hotel to Oxford Street - 15 mins by public transportation"\n              },\n              {\n                  "placeName":"Harrods",\n                   "placeDetails":"Luxury department store known for its high-end products and architecture",\n                   "placeImageUrl":"https://example.com/harrods.jpg",\n                   "geoCoordinates": {\n                       "latitude": 51.4996,\n                        "longitude": -0.1616\n                   },\n                    "ticketPricing":"Free to enter, cost depends on purchase",\n                    "travelTime":"Oxford Street to Harrods - 25 mins by public transportation"\n              },\n              {\n                  "placeName": "Departure from London",\n                  "placeDetails": "Head to airport for departure",\n                  "placeImageUrl": "https://example.com/airport.jpg",\n                  "geoCoordinates": {\n                      "latitude": 51.4700,\n                        "longitude": -0.4543\n                    },\n                  "ticketPricing": "Airport transfer price depends on the mode of transport",\n                    "travelTime": "Harrods to Heathrow Airport - 1 hour by public transportation"\n                }\n           ]\n      }\n    }\n  }\n}\n```\n',
        },
      ],
    },
  ],
});


